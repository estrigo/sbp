<!DOCTYPE html>
<html th:replace="layouts/main::main(~{::div}, ~{::script}, ~{::link})" xmlns="http://www.w3.org/1999/html">

<link th:href="@{/plugins/datatables/dataTables.bootstrap4.min.css}" rel="stylesheet" type="text/css" />
<link th:href="@{/plugins/datatables/buttons.bootstrap4.min.css}" rel="stylesheet" type="text/css" />
<link th:href="@{/plugins/datatables/responsive.bootstrap4.min.css}" rel="stylesheet" type="text/css" />

<div class="content">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="card-box table-responsive">
                    <h4 class="m-t-0 header-title"><b th:text="#{events.events}"></b></h4>

                    <div class="row">
                        <div class="col-3">
                            <input type="datetime-local" class="form-control" placeholder="Дата с:">
                        </div>
                        <div class="col-3">
                            <input type="datetime-local" class="form-control" placeholder="Дата по:">
                        </div>
                        <div class="col-3">
                            <input type="text" class="form-control" placeholder="Номер авто">
                        </div>
                        <div class="col-3">
                            <input type="text" class="form-control" placeholder="Описание">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3">
                            <select class="form-control">
                                <option value="">Не выбрано</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                        <div class="col-3">
                            <select class="form-control">
                                <option value="">Не выбрано</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                        <div class="col-3">
                            <select class="form-control">
                                <option value="">Не выбрано</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                        <div class="col-3">
                            <button type="submit" class="btn btn-succes">Поиск</button>
                            <button type="submit" class="btn btn-secondary">Сброс</button>
                        </div>
                    </div>

                    <div class="mb-5"></div>

                    <div class="row">
                        <table id="datatable-buttons" class="table table-bordered">
                            <thead>
                            <tr>
                                <th><a th:text="#{ordinal.number}"></a></th>
                                <th><a th:text="#{car.platenumber}"></a></th>
                                <th><a th:text="#{events.date}"></a></th>
                                <th><a th:text="#{parking.description}"></a></th>
                                <th><a th:text="#{events.photo}"></a></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="event, iterStat : ${events}">
                                <td th:text="${iterStat.count}"></td>
                                <td><span th:if="${event.properties != null}" th:text="${event.properties['carNumber']}"></span></td>
                                <td th:text="${event.created}"></td>
                                <td th:text="${event.description}"></td>
                                <td>
                                    <div class="thumb-custom" th:if="${event.properties != null && event.properties['carImageUrl'] != null}">
                                        <a href="#">
                                            <img class="thumb-img" alt th:src="@{${'/rest/image/value/' + event.id}}">
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Required datatable js -->
<script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
<script th:src="@{/plugins/datatables/dataTables.bootstrap4.min.js}"></script>
<!-- Buttons examples -->
<script th:src="@{/plugins/datatables/dataTables.buttons.min.js}"></script>
<script th:src="@{/plugins/datatables/buttons.bootstrap4.min.js}"></script>
<script th:src="@{/plugins/datatables/jszip.min.js}"></script>
<script th:src="@{/plugins/datatables/pdfmake.min.js}"></script>
<script th:src="@{/plugins/datatables/vfs_fonts.js}"></script>
<script th:src="@{/plugins/datatables/buttons.html5.min.js}"></script>
<script th:src="@{/plugins/datatables/buttons.print.min.js}"></script>
<script th:src="@{/plugins/datatables/buttons.colVis.min.js}"></script>
<!-- Responsive examples -->
<script th:src="@{/plugins/datatables/dataTables.responsive.min.js}"></script>
<script th:src="@{/plugins/datatables/responsive.bootstrap4.min.js}"></script>

<script type="text/javascript">
    $(document).ready(function() {
        $('#datatable').DataTable();
    });

    //Buttons examples
    var table = $('#datatable-buttons').DataTable({
        lengthChange: false,
        buttons: ['copy', 'excel', 'pdf', 'csv']
    });

    table.buttons().container()
        .appendTo('#datatable-buttons_wrapper .col-md-6:eq(0)');
</script>

</html>